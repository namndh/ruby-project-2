<h1>Listing songs</h1>

<table>
  <tr>
    <th>Title</th>
    <th>Text</th>
    <th></th>
  </tr>

  <% @songs.each do |song| %>
    <tr>
      <td><%= song.title %></td>
      <td><%= song.artist %></td>
      <td><%= link_to 'Show', song_path(song) %></td>
      <td><%= link_to 'Edit', edit_song_path(song) %></td>
      <td><%= link_to 'Destroy', song_path(song),
                      method: :delete,
                      data: {confirm: 'Are you sure?'} %></td>
      <td>
        <% if song.likes.find_by(user_id: current_user) %>
          <%= link_to 'Unlike', [song, song.likes.build], method: :post %>
        <% else %>
          <%= link_to 'Like', [song, song.likes.build], method: :post %>
        <% end %>
      </td>
    </tr>
  <% end %>
</table>

<%= link_to 'New song', new_song_path %>